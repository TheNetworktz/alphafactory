# ============================================================================
# AlphaFactory OS - Environment Variables Template
# ============================================================================
# INSTRUCTIONS:
# 1. Copy this file to: .env
# 2. Fill in your actual API keys and credentials
# 3. NEVER commit .env to Git (already in .gitignore)
# ============================================================================

# ============================================================================
# INTERACTIVE BROKERS (Primary Broker)
# ============================================================================
# Paper Trading (for testing - get from IBKR Paper Trading account)
IB_PAPER_HOST=127.0.0.1
IB_PAPER_PORT=7497
IB_PAPER_CLIENT_ID=1
IB_PAPER_ACCOUNT=DU1234567  # Your paper trading account number

# Live Trading (NEVER use until Month 6+ and fully tested)
IB_LIVE_HOST=127.0.0.1
IB_LIVE_PORT=7496
IB_LIVE_CLIENT_ID=2
IB_LIVE_ACCOUNT=U1234567  # Your live trading account number

# ============================================================================
# MARKET DATA PROVIDERS
# ============================================================================

# Polygon.io (Real-time market data - $29/month Starter plan)
# Sign up: https://polygon.io/dashboard/signup
POLYGON_API_KEY=your_polygon_api_key_here

# Alpha Vantage (Free earnings calendar and fundamentals)
# Sign up: https://www.alphavantage.co/support/#api-key
ALPHAVANTAGE_API_KEY=your_alphavantage_api_key_here

# Financial Modeling Prep (Earnings + Fundamentals - $83/month tier)
# Sign up: https://financialmodelingprep.com/developer/docs/pricing/
FMP_API_KEY=your_fmp_api_key_here

# Yahoo Finance (Free backup data - no API key needed)
# Automatically used by yfinance library

# ============================================================================
# DATABASE (PostgreSQL - Local Installation)
# ============================================================================
# Install PostgreSQL from: https://www.postgresql.org/download/windows/
# Default settings work fine for local development

DB_HOST=localhost
DB_PORT=5432
DB_NAME=alphafactory
DB_USER=postgres
DB_PASSWORD=your_secure_password_here

# Database connection string (auto-generated, don't modify)
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# ============================================================================
# REDIS (In-Memory Cache - Local Installation)
# ============================================================================
# Install Redis from: https://github.com/tporadowski/redis/releases
# Or use Docker: docker run -d -p 6379:6379 redis

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=  # Leave empty for local dev (no password)

# ============================================================================
# TELEGRAM ALERTS (Live Trading Notifications)
# ============================================================================
# Create bot: https://t.me/BotFather
# Instructions: https://core.telegram.org/bots#6-botfather

TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_CHAT_ID=your_telegram_chat_id_here

# ============================================================================
# TRADING CONFIGURATION
# ============================================================================

# Trading mode (paper/live)
TRADING_MODE=paper  # ALWAYS start with paper trading

# Risk limits (percentage of portfolio per trade)
MAX_POSITION_SIZE_PCT=5.0  # Max 5% per position
MAX_DAILY_LOSS_PCT=2.0     # Stop trading if down 2% in a day
MAX_TOTAL_RISK_PCT=20.0    # Max 20% total portfolio at risk

# Trading hours (US Eastern Time)
MARKET_OPEN_HOUR=9
MARKET_OPEN_MINUTE=30
MARKET_CLOSE_HOUR=16
MARKET_CLOSE_MINUTE=0

# ============================================================================
# LOGGING & MONITORING
# ============================================================================

# Log level (DEBUG/INFO/WARNING/ERROR/CRITICAL)
LOG_LEVEL=INFO

# Log file location
LOG_DIR=D:/AI_PROJECTS/alphafactory/logs

# Enable detailed performance logging
ENABLE_PERFORMANCE_LOGGING=true

# ============================================================================
# BACKTEST SETTINGS
# ============================================================================

# Default backtest period
BACKTEST_START_DATE=2020-01-01
BACKTEST_END_DATE=2024-12-31

# Initial capital for backtests
BACKTEST_INITIAL_CAPITAL=100000

# Commission per share (Interactive Brokers: $0.005/share, $1 min)
BACKTEST_COMMISSION_PER_SHARE=0.005
BACKTEST_COMMISSION_MIN=1.00

# Slippage (estimate price impact)
BACKTEST_SLIPPAGE_PCT=0.05  # 0.05% slippage

# ============================================================================
# DASHBOARD (Dash/Plotly Web Interface)
# ============================================================================

DASHBOARD_HOST=127.0.0.1
DASHBOARD_PORT=8050
DASHBOARD_DEBUG=true  # Set to false in production

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================

# Python environment
PYTHONPATH=D:/AI_PROJECTS/alphafactory

# Disable warnings in production
PYTHONWARNINGS=ignore

# Random seed for reproducibility
RANDOM_SEED=42

# ============================================================================
# NOTES
# ============================================================================
# - Keep .env file secure and never commit to Git
# - Use strong passwords for DB_PASSWORD
# - Start with paper trading (TRADING_MODE=paper)
# - Test thoroughly before switching to live
# - Monitor logs regularly (check LOG_DIR)
# ============================================================================